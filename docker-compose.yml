services:
  
  model:
    build: ./premiummodel
    ports:
      - "5000:5000"          
  
  backend:
    build: ./backend
    ports:
      - "3000:3000"
    depends_on:
      - model
    volumes:
      # Mounts your local CSV folder to the container
      - ./backend/database:/app/database
    environment:
      - NODE_ENV=development
      - MODEL_URL=http://model:5000

  frontend:
    build: ./frontend
    volumes:
      # Mounts your local frontend folder to the container
    - ./frontend:/app
    - /app/node_modules
    ports:
      - "5173:5173"
    depends_on:
      - backend
    environment:
      - VITE_API_URL=http://localhost:3000